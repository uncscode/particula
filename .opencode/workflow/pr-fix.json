{
  "name": "pr-fix",
  "version": "2.0.0",
  "description": "PR Fix workflow: analyze comments -> build -> validate -> polish -> test -> format -> ship-fix",
  "description_long": "Direct PR fix workflow triggered by request:fix label. Analyzes actionable review comments, generates fix plan, implements changes, validates, polishes, tests, formats, and ships fixes without creating intermediate GitHub issues.",
  "workflow_type": "custom",
  "steps": [
    {
      "type": "agent",
      "name": "Analyze PR Comments",
      "description": "Analyze actionable PR review comments and generate implementation plan",
      "agent": "pr-comment-analyzer",
      "prompt": "Analyze PR review comments and generate fix plan.\n\npr_number=$ARGUMENTS\nadw_id=${adw_id}\n\nSteps:\n1. Fetch actionable comments via platform pr-comments\n2. Group by file/line with reviewer attribution\n3. Generate implementation plan\n4. Write to spec_content",
      "model": "base",
      "timeout": 600,
      "retry": {
        "max_retries": 2,
        "initial_delay": 5.0,
        "backoff": 2.0
      }
    },
    {
      "type": "workflow",
      "name": "Build",
      "workflow_name": "adw-build"
    },
    {
      "type": "workflow",
      "name": "Validate",
      "workflow_name": "adw-validate"
    },
    {
      "type": "workflow",
      "name": "Polish",
      "workflow_name": "adw-polish"
    },
    {
      "type": "workflow",
      "name": "Test",
      "workflow_name": "test"
    },
    {
      "type": "workflow",
      "name": "Format",
      "workflow_name": "adw-format"
    },
    {
      "type": "workflow",
      "name": "Ship",
      "workflow_name": "adw-ship-fix"
    }
  ]
}