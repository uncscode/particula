{
  "name": "conditional-build",
  "version": "1.0.0",
  "description": "Build workflow with conditional steps based on workflow type",
  "description_long": "Implements changes with optional docstring updates and linting for complete workflows. Demonstrates conditional execution using if_condition and skip_if patterns.",
  "workflow_type": "custom",
  "steps": [
    {
      "type": "agent",
      "name": "Implement",
      "agent": "implementor",
      "prompt": "Implement from specification",
      "model": "base",
      "timeout": 600,
      "description": "Core implementation step - always runs"
    },
    {
      "type": "agent",
      "name": "Update Docstrings",
      "agent": "docstring",
      "prompt": "Update docstrings following repository standards",
      "model": "base",
      "timeout": 300,
      "condition": {
        "skip_if": "state.workflow_type == 'patch'"
      },
      "description": "Skip docstring updates for quick patches to save time"
    },
    {
      "type": "agent",
      "name": "Lint",
      "agent": "plan",
      "prompt": "Run all configured linters (ruff, mypy)",
      "model": "light",
      "timeout": 300,
      "condition": {
        "if_condition": "state.workflow_type == 'complete'"
      },
      "description": "Full linting only for complete workflows with comprehensive validation"
    },
    {
      "type": "agent",
      "name": "Commit",
      "agent": "git-commit",
      "prompt": "Create semantic commit message",
      "model": "light",
      "timeout": 120,
      "description": "Final commit step - always runs"
    }
  ]
}
